"use strict";$(function(){var dt_details_table=$(".datatables-order-details");if(dt_details_table.length){var dt_products=dt_details_table.DataTable({ajax:assetsPath+"json/ecommerce-order-details.json",columns:[{data:"id"},{data:"id"},{data:"product_name"},{data:"price"},{data:"qty"},{data:""}],columnDefs:[{className:"control",searchable:false,orderable:false,responsivePriority:2,targets:0,render:function(data,type,full,meta){return""}},{targets:1,orderable:false,checkboxes:{selectAllRender:'<input type="checkbox" class="form-check-input">'},render:function(){return'<input type="checkbox" class="dt-checkboxes form-check-input" >'},searchable:false},{targets:2,responsivePriority:1,searchable:false,orderable:false,render:function(data,type,full,meta){var $name=full["product_name"],$product_brand=full["product_info"],$image=full["image"];if($image){var $output='<img src="'+assetsPath+"img/products/"+$image+'" alt="product-'+$name+'" class="rounded-2">'}else{var stateNum=Math.floor(Math.random()*6);var states=["success","danger","warning","info","dark","primary","secondary"];var $state=states[stateNum],$name=full["product_name"],$initials=$name.match(/\b\w/g)||[];$initials=(($initials.shift()||"")+($initials.pop()||"")).toUpperCase();$output='<span class="avatar-initial rounded-2 bg-label-'+$state+'">'+$initials+"</span>"}var $row_output='<div class="d-flex justify-content-start align-items-center product-name">'+'<div class="avatar-wrapper me-3">'+'<div class="avatar rounded-2 bg-label-secondary">'+$output+"</div>"+"</div>"+'<div class="d-flex flex-column">'+'<span class="text-nowrap text-heading fw-medium">'+$name+"</span>"+'<small class="text-truncate d-none d-sm-block">'+$product_brand+"</small>"+"</div>"+"</div>";return $row_output}},{targets:3,searchable:false,orderable:false,render:function(data,type,full,meta){var $price=full["price"];var $output="<span>$"+$price+"</span>";return $output}},{targets:4,searchable:false,orderable:false,render:function(data,type,full,meta){var $qty=full["qty"];var $output="<span>"+$qty+"</span>";return $output}},{targets:5,searchable:false,orderable:false,render:function(data,type,full,meta){var $total=full["qty"]*full["price"];var $output="<span>$"+$total+"</span>";return $output}}],order:[2,""],dom:"t",responsive:{details:{display:$.fn.dataTable.Responsive.display.modal({header:function(row){var data=row.data();return"Details of "+data["full_name"]}}),type:"column",renderer:function(api,rowIdx,columns){var data=$.map(columns,function(col,i){return col.title!==""?'<tr data-dt-row="'+col.rowIndex+'" data-dt-column="'+col.columnIndex+'">'+"<td>"+col.title+":"+"</td> "+"<td>"+col.data+"</td>"+"</tr>":""}).join("");return data?$('<table class="table"/><tbody />').append(data):false}}}})}setTimeout(()=>{$(".dataTables_filter .form-control").removeClass("form-control-sm");$(".dataTables_length .form-select").removeClass("form-select-sm")},300)});(function(){const deleteOrder=document.querySelector(".delete-order");if(deleteOrder){deleteOrder.onclick=function(){Swal.fire({title:"Are you sure?",text:"You won't be able to revert order!",icon:"warning",showCancelButton:true,confirmButtonText:"Yes, Delete order!",customClass:{confirmButton:"btn btn-primary me-2",cancelButton:"btn btn-outline-secondary"},buttonsStyling:false}).then(function(result){if(result.value){Swal.fire({icon:"success",title:"Deleted!",text:"Order has been removed.",customClass:{confirmButton:"btn btn-success"}})}else if(result.dismiss===Swal.DismissReason.cancel){Swal.fire({title:"Cancelled",text:"Cancelled Delete :)",icon:"error",customClass:{confirmButton:"btn btn-success"}})}})}}function getCurrentYear(){var currentYear=(new Date).getFullYear();return currentYear}var year=getCurrentYear();document.getElementById("orderYear").innerHTML=year})();