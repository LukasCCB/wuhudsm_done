"use strict";(function(){const flatpickrRange=document.querySelector("#dealDuration");if(flatpickrRange){flatpickrRange.flatpickr({mode:"range"})}window.Helpers.initCustomOptionCheck();const wizardCreateDeal=document.querySelector("#wizard-create-deal");if(typeof wizardCreateDeal!==undefined&&wizardCreateDeal!==null){const wizardCreateDealForm=wizardCreateDeal.querySelector("#wizard-create-deal-form");const wizardCreateDealFormStep1=wizardCreateDealForm.querySelector("#deal-type");const wizardCreateDealFormStep2=wizardCreateDealForm.querySelector("#deal-details");const wizardCreateDealFormStep3=wizardCreateDealForm.querySelector("#deal-usage");const wizardCreateDealFormStep4=wizardCreateDealForm.querySelector("#review-complete");const wizardCreateDealNext=[].slice.call(wizardCreateDealForm.querySelectorAll(".btn-next"));const wizardCreateDealPrev=[].slice.call(wizardCreateDealForm.querySelectorAll(".btn-prev"));let validationStepper=new Stepper(wizardCreateDeal,{linear:true});const FormValidation1=FormValidation.formValidation(wizardCreateDealFormStep1,{fields:{dealAmount:{validators:{notEmpty:{message:"Please enter amount"},numeric:{message:"The amount must be a number"}}},dealRegion:{validators:{notEmpty:{message:"Please select region"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap5:new FormValidation.plugins.Bootstrap5({eleValidClass:"",rowSelector:".col-sm-6"}),autoFocus:new FormValidation.plugins.AutoFocus,submitButton:new FormValidation.plugins.SubmitButton}}).on("core.form.valid",function(){validationStepper.next()});const dealRegion=$("#dealRegion");if(dealRegion.length){select2Focus(dealRegion);dealRegion.wrap('<div class="position-relative"></div>');dealRegion.select2({placeholder:"Select an region",dropdownParent:dealRegion.parent()}).on("change.select2",function(){FormValidation1.revalidateField("dealRegion")})}const FormValidation2=FormValidation.formValidation(wizardCreateDealFormStep2,{fields:{dealTitle:{validators:{notEmpty:{message:"Please enter deal title"}}},dealCode:{validators:{notEmpty:{message:"Please enter deal code"},stringLength:{min:4,max:10,message:"The deal code must be more than 4 and less than 10 characters long"},regexp:{regexp:/^[A-Z0-9]+$/,message:"The deal code can only consist of capital alphabetical and number"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap5:new FormValidation.plugins.Bootstrap5({eleValidClass:"",rowSelector:".col-sm-6"}),autoFocus:new FormValidation.plugins.AutoFocus,submitButton:new FormValidation.plugins.SubmitButton}}).on("core.form.valid",function(){validationStepper.next()});const dealOfferedItem=$("#dealOfferedItem");if(dealOfferedItem.length){select2Focus(dealOfferedItem);dealOfferedItem.wrap('<div class="position-relative"></div>');dealOfferedItem.select2({placeholder:"Select an offered item",dropdownParent:dealOfferedItem.parent()}).on("change.select2",function(){})}const FormValidation3=FormValidation.formValidation(wizardCreateDealFormStep3,{fields:{},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap5:new FormValidation.plugins.Bootstrap5({eleValidClass:"",rowSelector:".col-sm-6"}),autoFocus:new FormValidation.plugins.AutoFocus,submitButton:new FormValidation.plugins.SubmitButton}}).on("core.form.valid",function(){validationStepper.next()});const FormValidation4=FormValidation.formValidation(wizardCreateDealFormStep4,{fields:{},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap5:new FormValidation.plugins.Bootstrap5({eleValidClass:"",rowSelector:".col-md-12"}),autoFocus:new FormValidation.plugins.AutoFocus,submitButton:new FormValidation.plugins.SubmitButton}}).on("core.form.valid",function(){alert("Submitted..!!")});wizardCreateDealNext.forEach(item=>{item.addEventListener("click",event=>{switch(validationStepper._currentIndex){case 0:FormValidation1.validate();break;case 1:FormValidation2.validate();break;case 2:FormValidation3.validate();break;case 3:FormValidation4.validate();break;default:break}})});wizardCreateDealPrev.forEach(item=>{item.addEventListener("click",event=>{switch(validationStepper._currentIndex){case 3:validationStepper.previous();break;case 2:validationStepper.previous();break;case 1:validationStepper.previous();break;case 0:default:break}})})}})();