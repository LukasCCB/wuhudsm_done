const path=require("path");const{src,dest,series}=require("gulp");const replace=require("gulp-replace");const useref=require("gulp-useref");var uglify=require("gulp-uglify");module.exports=conf=>{const prodCopyTask=function(){return src(`${templatePath}/**/*.html`).pipe(dest(buildPath)).pipe(src("assets/**/*")).pipe(dest(`${buildPath}/assets/`))};const prodRenameTasks=function(){return src(`${buildPath}/*.html`).pipe(replace("../../assets","assets")).pipe(dest(buildPath)).pipe(src(`${buildPath}/assets/**/*`)).pipe(replace("../../assets","assets")).pipe(dest(`${buildPath}/assets/`))};const prodUseRefTasks=function(){return src(`${buildPath}/*.html`).pipe(useref()).pipe(dest(buildPath))};const prodMinifyJSTasks=function(){return src(`${buildPath}/assets/js/**/*.js`).pipe(uglify()).pipe(dest(`${buildPath}/assets/js/`))};const prodAllTask=series(prodCopyTask,prodRenameTasks,prodUseRefTasks,prodMinifyJSTasks);return{copy:prodCopyTask,rename:prodRenameTasks,useref:prodUseRefTasks,minifyJS:prodMinifyJSTasks,all:prodAllTask}};